import React, {useState,useEffect} from "react";
import { useNavigate, useParams } from "react-router-dom";
import Axios from "axios";

function GetData(id){
    const [bibleverse, setBibleVerse] = useState({});
    const [meditate, setMeditate] = useState({})

    useEffect(() => {
        Axios.get(`http://localhost:8200/detail/` + id)
        .then((response) => {
        setBibleVerse(response.data.bibleverse);
        setMeditate(response.data.meditate);          
        })
    },[]);
    const item = (
        <>
        {bibleverse.content}
        {meditate.content}
        </>
    )
    return item;
}


function PostView({match}){
    const navigate = useNavigate();  
    const {id} = useParams(); // 주소/detail/:id 와 동일한 변수명으로 데이터를 꺼낸다
    const item = GetData(id);

    return(
        <div>
            <button onClick={()=>{
                navigate("/");
            }}>뒤로가기</button>
             <p>{item}</p>
        </div>
       
    )
}

export default PostView;